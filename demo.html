<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git学习</title>
    <!-- 
        (1) 起步
            文件版本修改所带来的问题：
                1.操作麻烦（每次都需要复制——粘贴——重命名）
                2.命名不规范（无法通过文件名知道具体做了哪些修改）
                3.容易丢失（如果硬盘故障或不小心删除，文件很容易丢失）
                4.协作困难（需要手动合并每个人对项目文件的修改，合并时极易出错）
            版本控制软件
                概念
                    是一个用来记录文件变化，以便将来查阅特定版本修订情况的系统，因此有时也叫做“版本控制系统”
                通俗的理解
                    把手工管理文件版本的方式，改为由软件管理文件的版本，这个负责管理文件版本的软件，叫做版本控制软件
            使用版本控制软件的好处
                1.操作简便（只需识记几组简单的终端命令，即可快速上手常见的版本控制软件）
                2.易于对比（基于版本控制软件提供的功能，能够方便的比较文件的变化细节，从而查出导致问题的原因）
                3.易于回溯（可以将选定的文件回溯到之前的状态，甚至将整个项目都回退到过去某个时间点的状态）
                4.不易丢失（在版本控制软件中，被用户误删除的文件，可以轻松的恢复回来）
                5.协作方便（基于版本控制软件提供的分支功能，可以轻松实现多人协作开发时的代码合并操作）
            版本控制系统的分类
                1.本地版本控制系统（单机运行，使维护文件版本的操作工具化）
                    特点：使用软件来记录文件的不同版本，提高了工作效率，降低了手动维护版本的出错率
                    缺点：单机运行，不支持多人协作开发；版本数据库故障后，所有历史更新记录会丢失
                2.集中化的版本控制系统（联网运行，支持多人协作开发；性能差，用户体验不好）
                    典型代表 SVN
                    特点：
                        基于服务器、客户端的运行模式
                        服务器保存文件的所有更新记录
                        客户端只保留最新的文件版本
                    优点：联网运行，支持多人协作开发
                    缺点：
                        不支持离线提交版本更新
                        中心服务器崩溃后，所有人无法正常工作
                        版本数据库故障后，所有历史更新记录会丢失
                3.分布式版本控制系统（联网运行，支持多人协作开发；性能优秀，用户体验好）
                    典型代表 Git
                    特点：
                        基于服务器、客户端的运行模式
                        服务器保存文件的所有更新版本
                        客户端是服务器的完整备份，并不是只保留文件的最新版本
                    优点：
                        联网运行，支持多人协作开发
                        客户端断网后，支持离线本地提交版本更新
                        服务器故障或损坏后，可使用任何一个客户端的备份进行恢复
            Git基础概念
                Git是一个开源的分布式版本控制系统，是目前世界上最先进、最流行的版本控制系统。可以快速高效的处理从很小到非常大的项目版本管理
                特点：项目越大越复杂，协同开发者越多，越能体现出Git的高性能和高可用性
                Git的特性
                    Git之所以快速和高效，主要依赖于它的如下两个特性：
                        1.直接记录快照，而非差异比较
                        2.近乎所有操作都是本地执行
                    SVN的差异比较
                        传统的版本控制系统（例如SVN）是基于差异的版本控制，它们存储的是一组基本文件和每个文件随时间逐步累积的差异
                        好处：节省磁盘空间
                        缺点：耗时、效率低（在每次切换版本的时候，都需要在基本文件的基础上，应用每个差异，从而生成目标版本对应的文件）
                    Git的记录快照
                        Git快照是在原有文件版本的基础上重新生成一份新的文件，类似于备份。为了效率，如果文件没有修改，Git不再重新存储该文件，而是只保留一个链接指向之前存储的文件
                        缺点：占用磁盘空间较大
                        优点：版本切换时非常块，因为每个版本都是完整的文件快照，切换版本时直接恢复目标版本的快照即可
                        特点：空间换时间
                    近乎所有操作都是本地执行
                        在Git中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其它计算机的信息
                        特性：
                            断网后依旧可以在本地对项目进行版本管理
                            联网后，把本地修改的记录同步到云端服务器即可
                    Git中的三个区域
                        使用Git管理的项目，拥有三个区域，分别是工作区、暂存区、Git仓库
                    Git中的三种状态
                        已修改（modified）      表示修改了文件，但还没将修改的结果放到暂存区
                        已暂存（staged）        表示对已修改文件的当前版本做了标记，使之包含在下次提交的列表中
                        已提交（committed）     表示文件已经安全的保存在本地的Git仓库中
                        注意：
                            工作区的文件被修改了，但还没有放到暂存区，就是已修改状态
                            如果文件已修改并放入暂存区，就属于已暂存状态
                            如果Git仓库中保存着特定版本的文件，就属于已提交状态
                    基本的Git工作流程如下：
                        1.在工作区中修改文件
                        2.将你想要下次提交的更改进行进行暂存
                        3.提交更新，找到暂存区的文件，将快照永久性存储到Git仓库
        (2) Git基础
            1.在Windows中下载、安装、配置Git
                在开始使用Git管理项目的版本之前，需要将它安装到计算机上。可以使用浏览器访问如下地址，根据自己的操作系统，选择下载对应的Git安装包：https://git-scm.com/downloads
            2.配置用户信息
                安装完Git之后，要做的第一件事就是设置自己的用户名和邮件地址。因为通过Git对项目进行版本管理的时候，Git需要使用这些基本信息，来记录是谁对项目进行了操作：
                // --global 表示全局性的配置
                git config --global user.name "itheima"
                git config --global user.email "itheima@itcast.cn"
                // 注意：如果使用了 --global 选项，那么该命令只需要运行一次，即可永久生效
            3.Git的全局配置文件
                通过git config --global user.name和git config --global user.email 配置的用户名和邮箱地址，会被写入到C:Users/用户名文件夹/.gitconfig 文件中。这个文件是Git的全局配置文件，配置一次即可永久生效（可以使用记事本打开此文件，从而查看自己曾经对Git做了哪些全局性的配置）
                [user]
                    name = qiaoDong
                    email = emailqiao@126.com
            4.检查配置信息
                除了使用记事本查看全局配置信息之外，还可以运行如下的终端命令，快速的查看Git的全局配置信息：
                # 查看所有的全局配置项
                git config --list --global
                # 查看指定的全局配置项
                git config user.name
                git config user.email
            5.获取帮助信息
                可以使用 git help <verb>命令，无需联网即可在浏览器中打开帮助手册，例如：
                    # 想要打开 git config 命令的帮助手册
                    git help config
                如果不想查看完整的手册，那么可以用 -h 选项获得更简明的 help 输出：
                    # 想要获取 git config 命令的快速参考
                    git config -h
            6.获取Git仓库的两种方式
                1.将尚未进行版本控制的本地目录转换为Git仓库
                2.从其它服务器克隆一个已存在的Git仓库
                以上两种方式都能够在自己的电脑上得到一个可用的Git仓库
                在现有的目录中初始化仓库
                    如果自己有一个尚未进行版本控制的项目目录，想要用Git来控制它，需要执行如下两个步骤：
                    1.在项目目录中，通过鼠标右键打开 Git Bash
                    2.执行 git init 命令将当前的目录转化为Git仓库
                    git init 命令会创建一个名为 .git 的隐藏目录，这个.git目录就是当前项目的Git仓库，里面包含了初始的必要文件，这些文件是Git仓库的必要组成部分
            7.工作区中文件的4种状态
                工作区中的每一个文件可能有4种状态，这四种状态共分为两大类
                    未被Git管理
                        未跟踪I（Untracked）    不被Git所管理的文件
                    已被Git管理
                        未修改（Unmodified）    工作区中文件的内容和Git仓库中文件的内容保持一致
                        已修改（Modified）      工作区中文件的内容和Git仓库中文件的内容不一致
                        已暂存（Staged）        工作区中被修改的文件已被放到暂存区，准备将修改后的文件保存到Git仓库中
                Git操作的终极结果：让工作区中的文件都处于 未修改 的状态
            8.检查文件的状态
                可以使用 git status 命令查看文件处于什么状态，例如：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master

                    No commits yet

                    Untracked files:
                    (use "git add <file>..." to include in what will be committed)

                            demo.html

                    nothing added to commit but untracked files present (use "git add" to track)
                ```
                在状态报告中可以看到新建的 demo.html 文件出现在 Untracked files（未跟踪的文件）下面
                未跟踪的文件意味着Git在之前的快照（提交）中没有这些文件；Git不会自动将之纳入跟踪范围，除非明确的告诉它"我需要使用Git跟踪管理该文件"
            9.以精简的方式显示文件状态
                使用 git status 输出的状态报告很详细，但有些繁琐。如果希望以精简的方式显示文件的状态，可以使用如下两条完全等价的命令，其中 -s 是 --short 的简写形式：
                # 以精简的方式显示文件状态
                git status -s
                git status --short
                未跟踪文件前面有红色的??标记，例如：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status -s
                    ?? demo.html
                ```
            10.跟踪新文件
                使用命令 git add 开始跟踪一个文件。所以，要跟踪 demo.html 文件，运行如下的命令即可：
                git add demo.html
                此时再运行 git status 命令，会看到 demo.html 文件在 Changes to be committed 这行的下面，说明已被跟踪，并处于暂存状态：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master

                    No commits yet

                    Changes to be committed:
                    (use "git rm --cached <file>..." to unstage)

                            new file:   demo.html

                    # 以精简的方式显示文件的状态（新添加到暂存区中的文件前面有绿色的A标记）
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status -s
                    A  demo.html
                ```
            11.提交更新
                现在暂存区中有一个 demo.html 文件等待被提交到Git仓库中进行保存。可以执行 git commit 命令进行提交，其中 -m 选项后面是本次的提交消息，用来对提交的内容做进一步的描述：
                提交成功之后，会显示如下信息：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git commit -m "新建了demo.html文件/add demo.html"
                    [master (root-commit) 5c35c2c] 新建了demo.html文件/add demo.html
                    1 file changed, 192 insertions(+)
                    create mode 100644 demo.html

                    # 证明工作区中所有的文件都处于 未修改 的状态，没有任何文件需要被提交
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master
                    nothing to commit, working tree clean
                ```
            12.对已提交的文件进行修改
                目前，demo.html 文件已被Git跟踪，并且工作区和Git仓库中的 demo.html 文件内容保持一致。当我们修改了工作区中 demo.html 的内容之后，再次运行 git status 和 git status -s 命令，会看到如下内容：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master
                    Changes not staged for commit:
                    (use "git add <file>..." to update what will be committed)
                    (use "git checkout -- <file>..." to discard changes in working directory)

                            modified:   demo.html

                    no changes added to commit (use "git add" and/or "git commit -a")

                    # 注意：修改过的、没有放入暂存区的文件前面有红色的M标记
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status -s
                    M demo.html
                ```
                文件 demo.html 出现在 Changes not staged for commit 这行下面，说明已跟踪文件的内容发生了变化，但还没有放到暂存区
            13.暂存已修改的文件
                目前，工作区中的 demo.html 文件已被修改，如果要暂存这次修改，需要再次运行 git add 命令，这个命令是个多功能的命令，主要有如下三个功效：
                    1.可以用它开始跟踪新文件
                    2.把已跟踪的、且已修改的文件放到暂存区
                    3.把有冲突的文件标记为已解决状态
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git add demo.html

                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master
                    Changes to be committed:
                    (use "git reset HEAD <file>..." to unstage)

                            modified:   demo.html

                    # 绿色的M表示文件已修改且已放入暂存区
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status -s
                    M  demo.html
                ```
            14.提交已暂存的文件
                再次运行 git commit -m "消息提交" 命令，即可将暂存区中记录的 demo.html 的快照，提交到Git仓库中进行保存：
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git commit -m "再次提交3"
                    [master 2ddf66e] 再次提交3
                    1 file changed, 43 insertions(+), 1 deletion(-)

                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master
                    nothing to commit, working tree clean
                ```
            15.撤销对文件的修改
                指的是：把对工作区中对应文件的修改，还原成Git仓库中所保存的版本
                操作的结果：所有的修改会丢失，且无法恢复！危险性比较高，请慎重操作
                撤销操作的本质：用Git仓库中保存的文件，覆盖工作区中指定的文件
                ```
                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    # 撤销对文件的修改
                    $ git checkout -- demo.html

                    Administrator@DESKTOP-N8LVVRV MINGW64 /d/project/Exercise/06Git (master)
                    $ git status
                    On branch master
                    nothing to commit, working tree clean
                ```
            16.向暂存区中一次性添加多个文件
                如果需要被暂存的文件个数比较多，可以使用如下的命令，一次性将所有的新增和修改过的文件加入暂存区：
                ```
                    git add .
                ```
                今后在项目开发中，会经常使用这个命令，将新增和修改过后的文件加入暂存区
            17.取消暂存的文件
                如果需要从暂存区中移除对应的文件，可以使用如下的命令：
                ```
                    git reset HEAD 要移除的文件名称（如果要移除全部使用 . 号）
                ```
            18.跳过使用暂存区域
                Git标准的工作流程是工作区——暂存区——Git仓库，但有时候这么做略显繁琐，此时可以跳过暂存区，直接将工作区中的修改提交到Git仓库，这时候Git工作的流程简化为了工作区——Git仓库
                Git提供了一个跳过使用暂存区域的方式，只要在提交的时候，给 git commit 加上 -a 选项，Git就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 git add 步骤：
                ```
                    git commit -a -m "描述消息"
                ```
            19.移除文件
                从Git仓库中移除文件的方式有两种：
                    1.从Git仓库和工作区中同时移除对应的文件
                    2.只从Git仓库中移除指定的文件，但保留工作区中对应的文件
                ```
                    # 从Git仓库和工作区中同时移除 test_rm.html 文件
                    git rm -f test_rm.html
                    # 从Git仓库中移除 test_rm.html ，但保留工作区中的 test_rm.html 文件
                    git rm --cached test_rm.html
                ```
            20.忽略文件
                一般我们总会有些文件无需纳入Git的管理，也不希望它们总出现在未跟踪文件列表。在这种情况下，我们可以创建一个名为 .gitignore 的配置文件，.gitignore的格式规范如下：
                    1.以 # 开头的是注释
                    2.以 / 结尾的是目录
                    3.以 / 开头防止递归
                    4.以 ! 开头表示取反
                    5.可以使用 glob 模式进行文件和文件夹的匹配（glob指简化了的正则表达式）
                    glob模式：
                        1.星号*匹配零个或多个任意字符
                        2.[abc]匹配任何一个列在中括号中的字符
                        3.问好?只匹配一个任意字符
                        4.在方括号中使用短划线分割两个字符，表示所有在这两个字符范围内的都可以匹配（比如：[0-9]表示匹配所有0到9的数字）
                        5.两个星号**表示匹配任意中间目录（比如：a/**/z可以匹配a/z、a/b/z或a/b/c/z等）
                .gitignore文件的例子
                ```
                    # 忽略所有的 .a 文件
                    *.a
                    # 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件
                    !lib.a
                    # 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO
                    /TODO
                    # 忽略任何目录下名为 build 的文件夹
                    build/
                    # 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt
                    doc/*.txt
                    # 忽略 doc/ 目录及其所有子目录下的 .pdf 文件
                    doc/**/*.pdf
                ```
        (3) Github
        (4) Git分支
     -->
</head>
<body>
    
</body>
</html>